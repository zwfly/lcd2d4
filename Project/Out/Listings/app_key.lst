C51 COMPILER V9.56.0.0   APP_KEY                                                           08/20/2017 22:57:49 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE APP_KEY
OBJECT MODULE PLACED IN .\Out\Objects\app_key.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\App\src\app_key.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Common\inc
                    -;..\App\inc;..\Bsp\inc;..\Startup;..\Bsp) DEFINE(FOSC_110592) DEBUG OBJECTEXTEND PRINT(.\Out\Listings\app_key.lst) OBJEC
                    -T(.\Out\Objects\app_key.obj)

line level    source

   1          /*
   2           * app_key.c
   3           *
   4           *  Created on: 2017年7月7日
   5           *      Author: admin
   6           */
   7          
   8          #include "app.h"
   9          
  10          DEVICE_T g_tDevice;
  11          
  12          static E_TRAINING_MODE mode;
  13          static char letter = '\0';
  14          
  15          #define BLINK_FLASH_TIME   4
  16          
  17          /*
  18           * level: 0, 拉动时候的界面
  19           *        1,
  20           * */
  21          uint8_t level = 0;
  22          
  23          void app_key_init(void) {
  24   1              level = 0;
  25   1      
  26   1              clr_PIPS2;
  27   1              clr_PIPS1;
  28   1              clr_PIPS0;
  29   1      
  30   1              set_PIT3;
  31   1              set_PINEN3;
  32   1              clr_PIPEN3;
  33   1      
  34   1              mode = E_Simple_metering_mode;
  35   1              g_tWork.mode = E_Simple_metering_mode;
  36   1              g_tDevice.status = E_PowerOn;
  37   1      
  38   1      }
  39          
  40          void app_flash_Show(void) {
  41   1      
  42   1      }
  43          void app_flash_Clear(void) {
  44   1      
  45   1      }
  46          void app_key_power_or_return(void) {
  47   1      
  48   1      }
  49          void app_key_set(void) {
  50   1      
  51   1      }
  52          
  53          void app_key_add(void) {
C51 COMPILER V9.56.0.0   APP_KEY                                                           08/20/2017 22:57:49 PAGE 2   

  54   1      
  55   1      }
  56          void app_key_ok(void) {
  57   1      
  58   1      }
  59          
  60          void app_power_on(void) {
  61   1              SW_Reset();  //复位
  62   1      }
  63          void app_power_off(void) {
  64   1              lcd_bright_off();
  65   1              LCD_Clear_All();
  66   1      }
  67          
  68          static uint8_t noOps_timeoutCnt = 0;
  69          static BIT offBight_flag = 0;
  70          //static BIT keyInvalid_flag = 0;
  71          void app_key_100ms_pro(void) {
  72   1      
  73   1      }
  74          
  75          void app_key_1s_pro(void) {
  76   1      
  77   1      }
  78          void app_key_clear_noOps_timeoutCnt(void) {
  79   1              noOps_timeoutCnt = 0;
  80   1      }
  81          
  82          void app_key_pro(uint8_t keyCode) {
  83   1      
  84   1              app_key_clear_noOps_timeoutCnt();
  85   1      
  86   1              key_bright_toggle();
  87   1      
  88   1              switch (keyCode) {
  89   2              case KEY_UP_K1:
  90   2      
  91   2                      break;
  92   2              case KEY_DOWN_K1:
  93   2      
  94   2                      break;
  95   2              case KEY_LONG_K1:
  96   2      
  97   2                      break;
  98   2              case KEY_UP_K2:
  99   2      
 100   2                      break;
 101   2              case KEY_DOWN_K2:
 102   2      
 103   2                      break;
 104   2              case KEY_LONG_K2:
 105   2      
 106   2                      break;
 107   2              case KEY_UP_K3:
 108   2      
 109   2                      break;
 110   2              case KEY_DOWN_K3:
 111   2      
 112   2                      break;
 113   2              case KEY_LONG_K3:
 114   2      
 115   2                      break;
C51 COMPILER V9.56.0.0   APP_KEY                                                           08/20/2017 22:57:49 PAGE 3   

 116   2              case KEY_UP_K4:
 117   2      
 118   2                      break;
 119   2              case KEY_DOWN_K4:
 120   2      
 121   2                      break;
 122   2              case KEY_LONG_K4:
 123   2      
 124   2                      break;
 125   2              case KEY_UP_K5:
 126   2      
 127   2                      break;
 128   2              case KEY_DOWN_K5:
 129   2      
 130   2                      break;
 131   2              case KEY_LONG_K5:
 132   2      
 133   2                      break;
 134   2              case KEY_UP_K6:
 135   2      
 136   2                      break;
 137   2              case KEY_DOWN_K6:
 138   2      
 139   2                      break;
 140   2              case KEY_LONG_K6:
 141   2      
 142   2                      break;
 143   2              case KEY_UP_K7:
 144   2      
 145   2                      break;
 146   2              case KEY_DOWN_K7:
 147   2      
 148   2                      break;
 149   2              case KEY_LONG_K7:
 150   2      
 151   2                      break;
 152   2              case KEY_UP_K8:
 153   2      
 154   2                      break;
 155   2              case KEY_DOWN_K8:
 156   2      
 157   2                      break;
 158   2              case KEY_LONG_K8:
 159   2      
 160   2                      break;
 161   2              case KEY_UP_K9:
 162   2      
 163   2                      break;
 164   2              case KEY_DOWN_K9:
 165   2      
 166   2                      break;
 167   2              case KEY_LONG_K9:
 168   2      
 169   2                      break;
 170   2              default:
 171   2      
 172   2                      break;
 173   2      
 174   2              }
 175   1      }
 176          

C51 COMPILER V9.56.0.0   APP_KEY                                                           08/20/2017 22:57:49 PAGE 4   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     72    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      5       1
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
