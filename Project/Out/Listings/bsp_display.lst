C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE BSP_DISPLAY
OBJECT MODULE PLACED IN .\Out\Objects\bsp_display.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\Bsp\src\bsp_display.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Common
                    -\inc;..\App\inc;..\Bsp\inc;..\Startup;..\Bsp) DEFINE(FOSC_110592) DEBUG OBJECTEXTEND PRINT(.\Out\Listings\bsp_display.ls
                    -t) OBJECT(.\Out\Objects\bsp_display.obj)

line level    source

   1          /*
   2           * bsp_display.c
   3           *
   4           *  Created on: 2017Äê6ÔÂ26ÈÕ
   5           *      Author: fly
   6           */
   7          
   8          #include "bsp.h"
   9          #include <string.h>
  10          
  11          #define COM0    0x01
  12          #define COM1    0x02
  13          #define COM2    0x04
  14          #define COM3    0x08
  15          
  16          void LCD_display_InitHard(void) {
  17   1      
  18   1      #if 1
  19   1      
  20   1      //      clr_P0M1_7;
  21   1      //      clr_P0M2_7;
  22   1      //
  23   1      //      P1M2 = 0x00;
  24   1      //      P1M1 = 0xFF;
  25   1      //
  26   1      //      P2M2 = 0x00;
  27   1      //      P2M1 = 0xFF;
  28   1      //
  29   1      //      P3M2 = 0x00;
  30   1      //      P3M1 = 0x0F;
  31   1      //
  32   1      //      P4M2 = 0x00;
  33   1      //      P4M1 = 0xFF;
  34   1      //
  35   1      //      P5M2 = 0x00;
  36   1      //      P5M1 = 0xFF;
  37   1      
  38   1      //////
  39   1      
  40   1              P0M2 = 0x00;
  41   1              P0M1 = 0x80;
  42   1      
  43   1              P1M2 = 0x00;
  44   1              P1M1 = 0xFF;
  45   1      
  46   1              P2M2 = 0x00;
  47   1              P2M1 = 0xFF;
  48   1      
  49   1              P3M2 = 0x00;
  50   1              P3M1 = 0x0F;
  51   1      
  52   1              P4M2 = 0x00;
  53   1              P4M1 = 0xFF;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 2   

  54   1      
  55   1              P5M2 = 0x00;
  56   1              P5M1 = 0xFF;
  57   1      #endif
  58   1      
  59   1              //LCDCON = 0x40;      //;VLCD = 0.9VDD (VDD = 3.3V, VLCD = 3.0V)
  60   1              LCDCON = 0x00;                  //;1/4 duty, 1/3 bias, 150kO resistor ladder
  61   1      
  62   1              LCDCLK = 0x04;      //
  63   1      
  64   1              //enable seg pin
  65   1              LCDSEG0 = 0xFF;
  66   1              LCDSEG1 = 0xFF;
  67   1              LCDSEG2 = 0xFF;
  68   1              LCDSEG3 = 0xFF;
  69   1      
  70   1              LCDCON |= SET_BIT7;  //LCDEN = 1
  71   1      
  72   1              LCD_Clear_All();
  73   1      }
  74          
  75          void LCD_Clear_All(void) {
  76   1              uint8_t i;
  77   1              for (i = 0; i < 32; i++) {
  78   2                      LCDPTR = i;
  79   2                      LCDDAT = 0;
  80   2              }
  81   1      }
  82          
  83          void LCD_Clear_LED_ICO(void) {
  84   1              LCDPTR = 18;
  85   1              LCDDAT &= ~ COM3;
  86   1      }
  87          void LCD_Show_LED_ICO(void) {
  88   1              LCDPTR = 18;
  89   1              LCDDAT |= COM3;
  90   1      }
  91          void LCD_Clear_FM_ICO(void) {
  92   1              LCDPTR = 14;
  93   1              LCDDAT &= ~ COM3;
  94   1      }
  95          void LCD_Show_FM_ICO(void) {
  96   1              LCDPTR = 14;
  97   1              LCDDAT |= COM3;
  98   1      }
  99          void LCD_Clear_BLUETooTH_ICO(void) {
 100   1              LCDPTR = 11;
 101   1              LCDDAT &= ~ COM3;
 102   1      }
 103          void LCD_Show_BLUETooTH_ICO(void) {
 104   1              LCDPTR = 11;
 105   1              LCDDAT |= COM3;
 106   1      }
 107          void LCD_Clear_AUX_ICO(void) {
 108   1              LCDPTR = 10;
 109   1              LCDDAT &= ~COM3;
 110   1      }
 111          void LCD_Show_AUX_ICO(void) {
 112   1              LCDPTR = 10;
 113   1              LCDDAT |= COM3;
 114   1      }
 115          void LCD_Clear_USB_ICO(void) {
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 3   

 116   1              LCDPTR = 3;
 117   1              LCDDAT &= ~ COM3;
 118   1      }
 119          void LCD_Show_USB_ICO(void) {
 120   1              LCDPTR = 3;
 121   1              LCDDAT |= COM3;
 122   1      }
 123          void LCD_Clear_MHZ_ICO(void) {
 124   1              LCDPTR = 2;
 125   1              LCDDAT &= ~ COM3;
 126   1      }
 127          void LCD_Show_MHZ_ICO(void) {
 128   1              LCDPTR = 2;
 129   1              LCDDAT |= COM3;
 130   1      }
 131          void LCD_Clear_BAZOOKA_ICO(void) {
 132   1              LCDPTR = 15;
 133   1              LCDDAT &= ~ COM3;
 134   1      }
 135          void LCD_Show_BAZOOKA_ICO(void) {
 136   1              LCDPTR = 15;
 137   1              LCDDAT |= COM3;
 138   1      }
 139          
 140          /*
 141           * Ã°ºÅ   :
 142           * */
 143          
 144          void LCD_Clear_upColon_ICO(void) {
 145   1              LCDPTR = 7;
 146   1              LCDDAT &= ~ COM3;
 147   1      }
 148          void LCD_Show_upColon_ICO(void) {
 149   1              LCDPTR = 7;
 150   1              LCDDAT |= COM3;
 151   1      }
 152          void LCD_Clear_downColon_ICO(void) {
 153   1              LCDPTR = 6;
 154   1              LCDDAT &= ~ COM3;
 155   1      }
 156          void LCD_Show_downColon_ICO(void) {
 157   1              LCDPTR = 6;
 158   1              LCDDAT |= COM3;
 159   1      }
 160          void LCD_Clear_Colon_ICO(void) {
 161   1              LCD_Clear_upColon_ICO();
 162   1              LCD_Clear_downColon_ICO();
 163   1      }
 164          void LCD_Show_Colon_ICO(void) {
 165   1              LCD_Show_upColon_ICO();
 166   1              LCD_Show_downColon_ICO();
 167   1      }
 168          static void LCD_Clear_mi(uint8_t n) {
 169   1              switch (n) {
 170   2              case 0:
 171   2                      LCDPTR = 31;
 172   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 173   2      
 174   2                      LCDPTR = 30;
 175   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 176   2      
 177   2                      LCDPTR = 29;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 4   

 178   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 179   2      
 180   2                      LCDPTR = 28;
 181   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 182   2                      break;
 183   2              case 1:
 184   2                      LCDPTR = 27;
 185   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 186   2      
 187   2                      LCDPTR = 26;
 188   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 189   2      
 190   2                      LCDPTR = 25;
 191   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 192   2      
 193   2                      LCDPTR = 24;
 194   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 195   2                      break;
 196   2              case 2:
 197   2                      LCDPTR = 23;
 198   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 199   2      
 200   2                      LCDPTR = 22;
 201   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 202   2      
 203   2                      LCDPTR = 21;
 204   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 205   2      
 206   2                      LCDPTR = 20;
 207   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 208   2                      break;
 209   2              case 3:
 210   2                      LCDPTR = 19;
 211   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 212   2      
 213   2                      LCDPTR = 18;
 214   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 215   2      
 216   2                      LCDPTR = 17;
 217   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 218   2      
 219   2                      LCDPTR = 16;
 220   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 221   2                      break;
 222   2              case 4:
 223   2                      LCDPTR = 15;
 224   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 225   2      
 226   2                      LCDPTR = 14;
 227   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 228   2      
 229   2                      LCDPTR = 13;
 230   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 231   2      
 232   2                      LCDPTR = 12;
 233   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 234   2                      break;
 235   2              case 5:
 236   2                      LCDPTR = 11;
 237   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 238   2      
 239   2                      LCDPTR = 10;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 5   

 240   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 241   2      
 242   2                      LCDPTR = 9;
 243   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 244   2      
 245   2                      LCDPTR = 8;
 246   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 247   2                      break;
 248   2              case 6:
 249   2                      LCDPTR = 7;
 250   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 251   2      
 252   2                      LCDPTR = 6;
 253   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 254   2      
 255   2                      LCDPTR = 5;
 256   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 257   2      
 258   2                      LCDPTR = 4;
 259   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 260   2                      break;
 261   2              case 7:
 262   2                      LCDPTR = 3;
 263   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 264   2      
 265   2                      LCDPTR = 2;
 266   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 267   2      
 268   2                      LCDPTR = 1;
 269   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 270   2      
 271   2                      LCDPTR = 0;
 272   2                      LCDDAT &= ~(COM0 + COM1 + COM2 + COM3);
 273   2                      break;
 274   2              }
 275   1      }
 276          void LCD_Clear_mi_all(void) {
 277   1              uint8_t i = 0;
 278   1              for (i = 0; i < 8; i++) {
 279   2                      LCD_Clear_mi(i);
 280   2              }
 281   1      }
 282          void LCD_ShowChar(uint8_t n, char c) {
 283   1              if (n > 7) {
 284   2                      return;
 285   2              }
 286   1      
 287   1              if (c == 'S' || c == 's') {
 288   2                      c = '5';
 289   2              } else if (c == 'g') {
 290   2                      c = '9';
 291   2              } else if (c == 'l') {
 292   2                      c = 'L';
 293   2              } else if (c == 'p') {
 294   2                      c = 'P';
 295   2              } else if (c == 'x') {
 296   2                      c = 'X';
 297   2              }
 298   1              switch (c) {
 299   2              case '0':
 300   2                      LCDPTR = 31 - n * 4;
 301   2                      LCDDAT |= COM0 + COM2;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 6   

 302   2                      LCDDAT &= ~ COM1;
 303   2      
 304   2                      LCDPTR = 30 - n * 4;
 305   2                      LCDDAT |= COM0 + COM2;
 306   2                      LCDDAT &= ~ COM1;
 307   2      
 308   2                      LCDPTR = 29 - n * 4;
 309   2                      LCDDAT = ( COM0 + COM3);
 310   2      
 311   2                      LCDPTR = 28 - n * 4;
 312   2                      LCDDAT = ( COM0 + COM3);
 313   2                      break;
 314   2              case '1':
 315   2                      LCDPTR = 31 - n * 4;
 316   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 317   2      
 318   2                      LCDPTR = 30 - n * 4;
 319   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 320   2      
 321   2                      LCDPTR = 29 - n * 4;
 322   2                      LCDDAT = COM0;
 323   2      
 324   2                      LCDPTR = 28 - n * 4;
 325   2                      LCDDAT = COM0 + COM3;
 326   2                      break;
 327   2              case '2':
 328   2                      LCDPTR = 31 - n * 4;
 329   2                      LCDDAT |= COM1 + COM2;
 330   2                      LCDDAT &= ~ COM0;
 331   2      
 332   2                      LCDPTR = 30 - n * 4;
 333   2                      LCDDAT |= COM0;
 334   2                      LCDDAT &= ~(COM1 + COM2);
 335   2      
 336   2                      LCDPTR = 29 - n * 4;
 337   2                      LCDDAT = COM3;
 338   2      
 339   2                      LCDPTR = 28 - n * 4;
 340   2                      LCDDAT = ( COM0 + COM1);
 341   2                      break;
 342   2              case '3':
 343   2                      LCDPTR = 31 - n * 4;
 344   2                      LCDDAT |= COM1;
 345   2                      LCDDAT &= ~(COM0 + COM2);
 346   2      
 347   2                      LCDPTR = 30 - n * 4;
 348   2                      LCDDAT |= COM0;
 349   2                      LCDDAT &= ~(COM1 + COM2);
 350   2      
 351   2                      LCDPTR = 29 - n * 4;
 352   2                      LCDDAT = COM3;
 353   2      
 354   2                      LCDPTR = 28 - n * 4;
 355   2                      LCDDAT = ( COM0 + COM1 + COM3);
 356   2                      break;
 357   2              case '4':
 358   2                      LCDPTR = 31 - n * 4;
 359   2                      LCDDAT |= ( COM0 + COM1);
 360   2                      LCDDAT &= ~ COM2;
 361   2      
 362   2                      LCDPTR = 30 - n * 4;
 363   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 7   

 364   2      
 365   2                      LCDPTR = 29 - n * 4;
 366   2                      LCDDAT = 0;
 367   2      
 368   2                      LCDPTR = 28 - n * 4;
 369   2                      LCDDAT = ( COM0 + COM1 + COM3);
 370   2                      break;
 371   2              case '5':
 372   2                      LCDPTR = 31 - n * 4;
 373   2                      LCDDAT |= ( COM0 + COM1);
 374   2                      LCDDAT &= ~ COM2;
 375   2      
 376   2                      LCDPTR = 30 - n * 4;
 377   2                      LCDDAT |= COM0;
 378   2                      LCDDAT &= ~(COM1 + COM2);
 379   2      
 380   2                      LCDPTR = 29 - n * 4;
 381   2                      LCDDAT = COM3;
 382   2      
 383   2                      LCDPTR = 28 - n * 4;
 384   2                      LCDDAT = COM1 + COM3;
 385   2                      break;
 386   2              case '6':
 387   2                      LCDPTR = 31 - n * 4;
 388   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 389   2      
 390   2                      LCDPTR = 30 - n * 4;
 391   2                      LCDDAT |= COM0;
 392   2                      LCDDAT &= ~(COM1 + COM2);
 393   2      
 394   2                      LCDPTR = 29 - n * 4;
 395   2                      LCDDAT = COM3;
 396   2      
 397   2                      LCDPTR = 28 - n * 4;
 398   2                      LCDDAT = ( COM1 + COM3);
 399   2                      break;
 400   2              case '7':
 401   2                      LCDPTR = 31 - n * 4;
 402   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 403   2      
 404   2                      LCDPTR = 30 - n * 4;
 405   2                      LCDDAT |= COM0;
 406   2                      LCDDAT &= ~(COM1 + COM2);
 407   2      
 408   2                      LCDPTR = 29 - n * 4;
 409   2                      LCDDAT = 0;
 410   2      
 411   2                      LCDPTR = 28 - n * 4;
 412   2                      LCDDAT = ( COM0 + COM3);
 413   2                      break;
 414   2              case '8':
 415   2                      LCDPTR = 31 - n * 4;
 416   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 417   2      
 418   2                      LCDPTR = 30 - n * 4;
 419   2                      LCDDAT |= COM0;
 420   2                      LCDDAT &= ~(COM1 + COM2);
 421   2      
 422   2                      LCDPTR = 29 - n * 4;
 423   2                      LCDDAT = COM3;
 424   2      
 425   2                      LCDPTR = 28 - n * 4;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 8   

 426   2                      LCDDAT = ( COM0 + COM1 + COM3);
 427   2                      break;
 428   2              case '9':
 429   2                      LCDPTR = 31 - n * 4;
 430   2                      LCDDAT |= ( COM0 + COM1);
 431   2                      LCDDAT &= ~ COM2;
 432   2      
 433   2                      LCDPTR = 30 - n * 4;
 434   2                      LCDDAT |= COM0;
 435   2                      LCDDAT &= ~(COM1 + COM2);
 436   2      
 437   2                      LCDPTR = 29 - n * 4;
 438   2                      LCDDAT = COM3;
 439   2      
 440   2                      LCDPTR = 28 - n * 4;
 441   2                      LCDDAT = ( COM0 + COM1 + COM3);
 442   2                      break;
 443   2              case ' ':
 444   2                      LCD_Clear_mi(n);
 445   2                      break;
 446   2              case 'A':
 447   2                      LCDPTR = 31 - n * 4;
 448   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 449   2      
 450   2                      LCDPTR = 30 - n * 4;
 451   2                      LCDDAT |= COM0;
 452   2                      LCDDAT &= ~(COM1 + COM2);
 453   2      
 454   2                      LCDPTR = 29 - n * 4;
 455   2                      LCDDAT = 0;
 456   2      
 457   2                      LCDPTR = 28 - n * 4;
 458   2                      LCDDAT = ( COM0 + COM1 + COM3);
 459   2                      break;
 460   2              case 'B':
 461   2                      LCDPTR = 31 - n * 4;
 462   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 463   2      
 464   2                      LCDPTR = 30 - n * 4;
 465   2                      LCDDAT |= COM0;
 466   2                      LCDDAT &= ~(COM1 + COM2);
 467   2      
 468   2                      LCDPTR = 29 - n * 4;
 469   2                      LCDDAT = ( COM1 + COM2 + COM3);
 470   2      
 471   2                      LCDPTR = 28 - n * 4;
 472   2                      LCDDAT = ( COM0 + COM1 + COM3);
 473   2                      break;
 474   2              case 'C':
 475   2                      LCDPTR = 31 - n * 4;
 476   2                      LCDDAT |= ( COM0 + COM2);
 477   2                      LCDDAT &= ~ COM1;
 478   2      
 479   2                      LCDPTR = 30 - n * 4;
 480   2                      LCDDAT |= COM0;
 481   2                      LCDDAT &= ~(COM1 + COM2);
 482   2      
 483   2                      LCDPTR = 29 - n * 4;
 484   2                      LCDDAT = COM3;
 485   2      
 486   2                      LCDPTR = 28 - n * 4;
 487   2                      LCDDAT = 0;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 9   

 488   2                      break;
 489   2              case 'D':
 490   2                      LCDPTR = 31 - n * 4;
 491   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 492   2      
 493   2                      LCDPTR = 30 - n * 4;
 494   2                      LCDDAT |= COM0;
 495   2                      LCDDAT &= ~(COM1 + COM2);
 496   2      
 497   2                      LCDPTR = 29 - n * 4;
 498   2                      LCDDAT = ( COM1 + COM2 + COM3);
 499   2      
 500   2                      LCDPTR = 28 - n * 4;
 501   2                      LCDDAT = ( COM0 + COM3);
 502   2                      break;
 503   2              case 'E':
 504   2                      LCDPTR = 31 - n * 4;
 505   2                      LCDDAT |= COM0 + COM1 + COM2;
 506   2      
 507   2                      LCDPTR = 30 - n * 4;
 508   2                      LCDDAT |= COM0;
 509   2                      LCDDAT &= ~( COM1 + COM2);
 510   2      
 511   2                      LCDPTR = 29 - n * 4;
 512   2                      LCDDAT = COM3;
 513   2      
 514   2                      LCDPTR = 28 - n * 4;
 515   2                      LCDDAT = COM1;
 516   2                      break;
 517   2              case 'F':
 518   2                      LCDPTR = 31 - n * 4;
 519   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 520   2      
 521   2                      LCDPTR = 30 - n * 4;
 522   2                      LCDDAT |= COM0;
 523   2                      LCDDAT &= ~(COM1 + COM2);
 524   2      
 525   2                      LCDPTR = 29 - n * 4;
 526   2                      LCDDAT = 0;
 527   2      
 528   2                      LCDPTR = 28 - n * 4;
 529   2                      LCDDAT = COM1;
 530   2                      break;
 531   2              case 'G':
 532   2                      LCDPTR = 31 - n * 4;
 533   2                      LCDDAT |= ( COM0 + COM2);
 534   2                      LCDDAT &= ~ COM1;
 535   2      
 536   2                      LCDPTR = 30 - n * 4;
 537   2                      LCDDAT |= COM0;
 538   2                      LCDDAT &= ~(COM1 + COM2);
 539   2      
 540   2                      LCDPTR = 29 - n * 4;
 541   2                      LCDDAT = COM3;
 542   2      
 543   2                      LCDPTR = 28 - n * 4;
 544   2                      LCDDAT = ( COM1 + COM3);
 545   2                      break;
 546   2              case 'H':
 547   2                      LCDPTR = 31 - n * 4;
 548   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 549   2      
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 10  

 550   2                      LCDPTR = 30 - n * 4;
 551   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 552   2      
 553   2                      LCDPTR = 29 - n * 4;
 554   2                      LCDDAT = 0;
 555   2      
 556   2                      LCDPTR = 28 - n * 4;
 557   2                      LCDDAT = ( COM0 + COM1 + COM3);
 558   2                      break;
 559   2              case 'I':
 560   2                      LCDPTR = 31 - n * 4;
 561   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 562   2      
 563   2                      LCDPTR = 30 - n * 4;
 564   2                      LCDDAT |= COM0;
 565   2                      LCDDAT &= ~(COM1 + COM2);
 566   2      
 567   2                      LCDPTR = 29 - n * 4;
 568   2                      LCDDAT = ( COM1 + COM2 + COM3);
 569   2      
 570   2                      LCDPTR = 28 - n * 4;
 571   2                      LCDDAT = 0;
 572   2                      break;
 573   2              case 'J':
 574   2                      LCDPTR = 31 - n * 4;
 575   2                      LCDDAT |= COM2;
 576   2                      LCDDAT &= ~(COM0 + COM1);
 577   2      
 578   2                      LCDPTR = 30 - n * 4;
 579   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 580   2      
 581   2                      LCDPTR = 29 - n * 4;
 582   2                      LCDDAT = COM3;
 583   2      
 584   2                      LCDPTR = 28 - n * 4;
 585   2                      LCDDAT = ( COM0 + COM3);
 586   2                      break;
 587   2              case 'K':
 588   2                      LCDPTR = 31 - n * 4;
 589   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 590   2      
 591   2                      LCDPTR = 30 - n * 4;
 592   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 593   2      
 594   2                      LCDPTR = 29 - n * 4;
 595   2                      LCDDAT = COM0;
 596   2      
 597   2                      LCDPTR = 28 - n * 4;
 598   2                      LCDDAT = ( COM1 + COM3);
 599   2                      break;
 600   2              case 'L':
 601   2                      LCDPTR = 31 - n * 4;
 602   2                      LCDDAT |= ( COM0 + COM2);
 603   2                      LCDDAT &= ~ COM1;
 604   2      
 605   2                      LCDPTR = 30 - n * 4;
 606   2                      LCDDAT &= ~(COM0 + COM1 + COM2);
 607   2      
 608   2                      LCDPTR = 29 - n * 4;
 609   2                      LCDDAT = COM3;
 610   2      
 611   2                      LCDPTR = 28 - n * 4;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 11  

 612   2                      LCDDAT = 0;
 613   2                      break;
 614   2              case 'M':
 615   2                      LCDPTR = 31 - n * 4;
 616   2                      LCDDAT |= ( COM0 + COM2);
 617   2                      LCDDAT &= ~ COM1;
 618   2      
 619   2                      LCDPTR = 30 - n * 4;
 620   2                      LCDDAT |= COM1;
 621   2                      LCDDAT &= ~(COM0 + COM2);
 622   2      
 623   2                      LCDPTR = 29 - n * 4;
 624   2                      LCDDAT = ( COM0 + COM2);
 625   2      
 626   2                      LCDPTR = 28 - n * 4;
 627   2                      LCDDAT = ( COM0 + COM3);
 628   2                      break;
 629   2              case 'N':
 630   2                      LCDPTR = 31 - n * 4;
 631   2                      LCDDAT |= ( COM0 + COM2);
 632   2                      LCDDAT &= ~ COM1;
 633   2      
 634   2                      LCDPTR = 30 - n * 4;
 635   2                      LCDDAT |= COM0;
 636   2                      LCDDAT &= ~(COM1 + COM2);
 637   2      
 638   2                      LCDPTR = 29 - n * 4;
 639   2                      LCDDAT = 0;
 640   2      
 641   2                      LCDPTR = 28 - n * 4;
 642   2                      LCDDAT = ( COM0 + COM3);
 643   2                      break;
 644   2              case 'O':
 645   2                      LCDPTR = 31 - n * 4;
 646   2                      LCDDAT |= ( COM0 + COM2);
 647   2                      LCDDAT &= ~ COM1;
 648   2      
 649   2                      LCDPTR = 30 - n * 4;
 650   2                      LCDDAT |= COM0;
 651   2                      LCDDAT &= ~(COM1 + COM2);
 652   2      
 653   2                      LCDPTR = 29 - n * 4;
 654   2                      LCDDAT = COM3;
 655   2      
 656   2                      LCDPTR = 28 - n * 4;
 657   2                      LCDDAT = ( COM0 + COM3);
 658   2                      break;
 659   2              case 'P':
 660   2                      LCDPTR = 31 - n * 4;
 661   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 662   2      
 663   2                      LCDPTR = 30 - n * 4;
 664   2                      LCDDAT |= COM0;
 665   2                      LCDDAT &= ~(COM1 + COM2);
 666   2      
 667   2                      LCDPTR = 29 - n * 4;
 668   2                      LCDDAT = 0;
 669   2      
 670   2                      LCDPTR = 28 - n * 4;
 671   2                      LCDDAT = ( COM0 + COM1);
 672   2                      break;
 673   2              case 'Q':
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 12  

 674   2                      LCDPTR = 31 - n * 4;
 675   2                      LCDDAT |= ( COM0 + COM2);
 676   2                      LCDDAT &= ~ COM1;
 677   2      
 678   2                      LCDPTR = 30 - n * 4;
 679   2                      LCDDAT |= COM0;
 680   2                      LCDDAT &= ~(COM1 + COM2);
 681   2      
 682   2                      LCDPTR = 29 - n * 4;
 683   2                      LCDDAT = COM3;
 684   2      
 685   2                      LCDPTR = 28 - n * 4;
 686   2                      LCDDAT = ( COM0 + COM2 + COM3);
 687   2                      break;
 688   2              case 'R':
 689   2                      LCDPTR = 31 - n * 4;
 690   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 691   2      
 692   2                      LCDPTR = 30 - n * 4;
 693   2                      LCDDAT |= COM0;
 694   2                      LCDDAT &= ~(COM1 + COM2);
 695   2      
 696   2                      LCDPTR = 29 - n * 4;
 697   2                      LCDDAT = 0;
 698   2      
 699   2                      LCDPTR = 28 - n * 4;
 700   2                      LCDDAT = ( COM0 + COM1 + COM2);
 701   2                      break;
 702   2              case 'S':
 703   2                      break;
 704   2              case 'T':
 705   2                      LCDPTR = 31 - n * 4;
 706   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 707   2      
 708   2                      LCDPTR = 30 - n * 4;
 709   2                      LCDDAT |= COM0;
 710   2                      LCDDAT &= ~(COM1 + COM2);
 711   2      
 712   2                      LCDPTR = 29 - n * 4;
 713   2                      LCDDAT = ( COM1 + COM2);
 714   2      
 715   2                      LCDPTR = 28 - n * 4;
 716   2                      LCDDAT = 0;
 717   2                      break;
 718   2              case 'U':
 719   2                      LCDPTR = 31 - n * 4;
 720   2                      LCDDAT |= ( COM0 + COM2);
 721   2                      LCDDAT &= ~ COM1;
 722   2      
 723   2                      LCDPTR = 30 - n * 4;
 724   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 725   2      
 726   2                      LCDPTR = 29 - n * 4;
 727   2                      LCDDAT = COM3;
 728   2      
 729   2                      LCDPTR = 28 - n * 4;
 730   2                      LCDDAT = ( COM0 + COM3);
 731   2                      break;
 732   2              case 'V':
 733   2                      LCDPTR = 31 - n * 4;
 734   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 735   2      
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 13  

 736   2                      LCDPTR = 30 - n * 4;
 737   2                      LCDDAT |= COM1;
 738   2                      LCDDAT &= ~(COM0 + COM2);
 739   2      
 740   2                      LCDPTR = 29 - n * 4;
 741   2                      LCDDAT = 0;
 742   2      
 743   2                      LCDPTR = 28 - n * 4;
 744   2                      LCDDAT = ( COM0 + COM2 + COM3);
 745   2                      break;
 746   2              case 'W':
 747   2                      LCDPTR = 31 - n * 4;
 748   2                      LCDDAT |= ( COM0 + COM2);
 749   2                      LCDDAT &= ~ COM1;
 750   2      
 751   2                      LCDPTR = 30 - n * 4;
 752   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 753   2      
 754   2                      LCDPTR = 29 - n * 4;
 755   2                      LCDDAT = ( COM1 + COM2 + COM3);
 756   2      
 757   2                      LCDPTR = 28 - n * 4;
 758   2                      LCDDAT = ( COM0 + COM3);
 759   2                      break;
 760   2              case 'X':
 761   2                      LCDPTR = 31 - n * 4;
 762   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 763   2      
 764   2                      LCDPTR = 30 - n * 4;
 765   2                      LCDDAT |= ( COM1 + COM2);
 766   2                      LCDDAT &= ~ COM0;
 767   2      
 768   2                      LCDPTR = 29 - n * 4;
 769   2                      LCDDAT = COM0;
 770   2      
 771   2                      LCDPTR = 28 - n * 4;
 772   2                      LCDDAT = COM2;
 773   2                      break;
 774   2              case 'Y':
 775   2                      LCDPTR = 31 - n * 4;
 776   2                      LCDDAT |= ( COM0 + COM1);
 777   2                      LCDDAT &= ~ COM2;
 778   2      
 779   2                      LCDPTR = 30 - n * 4;
 780   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 781   2      
 782   2                      LCDPTR = 29 - n * 4;
 783   2                      LCDDAT = COM3;
 784   2      
 785   2                      LCDPTR = 28 - n * 4;
 786   2                      LCDDAT = ( COM0 + COM1 + COM3);
 787   2                      break;
 788   2              case 'Z':
 789   2                      LCDPTR = 31 - n * 4;
 790   2                      LCDDAT |= COM1;
 791   2                      LCDDAT &= ~(COM0 + COM2);
 792   2      
 793   2                      LCDPTR = 30 - n * 4;
 794   2                      LCDDAT |= ( COM0 + COM2);
 795   2                      LCDDAT &= ~ COM1;
 796   2      
 797   2                      LCDPTR = 29 - n * 4;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 14  

 798   2                      LCDDAT = ( COM0 + COM3);
 799   2      
 800   2                      LCDPTR = 28 - n * 4;
 801   2                      LCDDAT = COM1;
 802   2                      break;
 803   2              case 'a':
 804   2                      LCDPTR = 31 - n * 4;
 805   2                      LCDDAT |= ( COM1 + COM2);
 806   2                      LCDDAT &= ~ COM0;
 807   2      
 808   2                      LCDPTR = 30 - n * 4;
 809   2                      LCDDAT |= COM0;
 810   2                      LCDDAT &= ~(COM1 + COM2);
 811   2      
 812   2                      LCDPTR = 29 - n * 4;
 813   2                      LCDDAT = COM3;
 814   2      
 815   2                      LCDPTR = 28 - n * 4;
 816   2                      LCDDAT = ( COM0 + COM1 + COM3);
 817   2                      break;
 818   2              case 'b':
 819   2                      LCDPTR = 31 - n * 4;
 820   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 821   2      
 822   2                      LCDPTR = 30 - n * 4;
 823   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 824   2      
 825   2                      LCDPTR = 29 - n * 4;
 826   2                      LCDDAT = COM3;
 827   2      
 828   2                      LCDPTR = 28 - n * 4;
 829   2                      LCDDAT = ( COM1 + COM3);
 830   2                      break;
 831   2              case 'c':
 832   2                      LCDPTR = 31 - n * 4;
 833   2                      LCDDAT |= ( COM1 + COM2);
 834   2                      LCDDAT &= ~ COM0;
 835   2      
 836   2                      LCDPTR = 30 - n * 4;
 837   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 838   2      
 839   2                      LCDPTR = 29 - n * 4;
 840   2                      LCDDAT = COM3;
 841   2      
 842   2                      LCDPTR = 28 - n * 4;
 843   2                      LCDDAT = COM1;
 844   2                      break;
 845   2              case 'd':
 846   2                      LCDPTR = 31 - n * 4;
 847   2                      LCDDAT |= ( COM1 + COM2);
 848   2                      LCDDAT &= ~ COM0;
 849   2      
 850   2                      LCDPTR = 30 - n * 4;
 851   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 852   2      
 853   2                      LCDPTR = 29 - n * 4;
 854   2                      LCDDAT = COM3;
 855   2      
 856   2                      LCDPTR = 28 - n * 4;
 857   2                      LCDDAT = ( COM0 + COM1 + COM3);
 858   2                      break;
 859   2              case 'e':
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 15  

 860   2                      LCDPTR = 31 - n * 4;
 861   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 862   2      
 863   2                      LCDPTR = 30 - n * 4;
 864   2                      LCDDAT |= COM0;
 865   2                      LCDDAT &= ~(COM1 + COM2);
 866   2      
 867   2                      LCDPTR = 29 - n * 4;
 868   2                      LCDDAT = COM3;
 869   2      
 870   2                      LCDPTR = 28 - n * 4;
 871   2                      LCDDAT = ( COM0 + COM1);
 872   2                      break;
 873   2              case 'f':
 874   2                      LCDPTR = 31 - n * 4;
 875   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 876   2      
 877   2                      LCDPTR = 30 - n * 4;
 878   2                      LCDDAT |= COM0;
 879   2                      LCDDAT &= ~(COM1 + COM2);
 880   2      
 881   2                      LCDPTR = 29 - n * 4;
 882   2                      LCDDAT = 0;
 883   2      
 884   2                      LCDPTR = 28 - n * 4;
 885   2                      LCDDAT = 0;
 886   2                      break;
 887   2              case 'g':
 888   2                      break;
 889   2              case 'h':
 890   2                      LCDPTR = 31 - n * 4;
 891   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 892   2      
 893   2                      LCDPTR = 30 - n * 4;
 894   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 895   2      
 896   2                      LCDPTR = 29 - n * 4;
 897   2                      LCDDAT = 0;
 898   2      
 899   2                      LCDPTR = 28 - n * 4;
 900   2                      LCDDAT = ( COM1 + COM3);
 901   2                      break;
 902   2              case 'i':
 903   2                      LCDPTR = 31 - n * 4;
 904   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 905   2      
 906   2                      LCDPTR = 30 - n * 4;
 907   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 908   2      
 909   2                      LCDPTR = 29 - n * 4;
 910   2                      LCDDAT = ( COM1 + COM2);
 911   2      
 912   2                      LCDPTR = 28 - n * 4;
 913   2                      LCDDAT = 0;
 914   2                      break;
 915   2              case 'j':
 916   2                      LCDPTR = 31 - n * 4;
 917   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 918   2      
 919   2                      LCDPTR = 30 - n * 4;
 920   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 921   2      
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 16  

 922   2                      LCDPTR = 29 - n * 4;
 923   2                      LCDDAT = COM3;
 924   2      
 925   2                      LCDPTR = 28 - n * 4;
 926   2                      LCDDAT = ( COM0 + COM3);
 927   2                      break;
 928   2              case 'k':
 929   2                      LCDPTR = 31 - n * 4;
 930   2                      LCDDAT |= ( COM0 + COM1 + COM2);
 931   2      
 932   2                      LCDPTR = 30 - n * 4;
 933   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 934   2      
 935   2                      LCDPTR = 29 - n * 4;
 936   2                      LCDDAT = COM0;
 937   2      
 938   2                      LCDPTR = 28 - n * 4;
 939   2                      LCDDAT = COM2;
 940   2                      break;
 941   2              case 'l':
 942   2                      break;
 943   2              case 'm':
 944   2                      LCDPTR = 31 - n * 4;
 945   2                      LCDDAT |= ( COM1 + COM2);
 946   2                      LCDDAT &= ~ COM0;
 947   2      
 948   2                      LCDPTR = 30 - n * 4;
 949   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 950   2      
 951   2                      LCDPTR = 29 - n * 4;
 952   2                      LCDDAT = COM2;
 953   2      
 954   2                      LCDPTR = 28 - n * 4;
 955   2                      LCDDAT = ( COM1 + COM3);
 956   2                      break;
 957   2              case 'n':
 958   2                      LCDPTR = 31 - n * 4;
 959   2                      LCDDAT |= ( COM1 + COM2);
 960   2                      LCDDAT &= ~ COM0;
 961   2      
 962   2                      LCDPTR = 30 - n * 4;
 963   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 964   2      
 965   2                      LCDPTR = 29 - n * 4;
 966   2                      LCDDAT = 0;
 967   2      
 968   2                      LCDPTR = 28 - n * 4;
 969   2                      LCDDAT = ( COM1 + COM3);
 970   2                      break;
 971   2              case 'o':
 972   2                      LCDPTR = 31 - n * 4;
 973   2                      LCDDAT |= ( COM1 + COM2);
 974   2                      LCDDAT &= ~ COM0;
 975   2      
 976   2                      LCDPTR = 30 - n * 4;
 977   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
 978   2      
 979   2                      LCDPTR = 29 - n * 4;
 980   2                      LCDDAT = COM3;
 981   2      
 982   2                      LCDPTR = 28 - n * 4;
 983   2                      LCDDAT = ( COM1 + COM3);
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 17  

 984   2                      break;
 985   2              case 'p':
 986   2                      break;
 987   2              case 'q':
 988   2                      LCDPTR = 31 - n * 4;
 989   2                      LCDDAT |= ( COM0 + COM1);
 990   2                      LCDDAT &= ~ COM2;
 991   2      
 992   2                      LCDPTR = 30 - n * 4;
 993   2                      LCDDAT |= COM0;
 994   2                      LCDDAT &= ~(COM1 + COM2);
 995   2      
 996   2                      LCDPTR = 29 - n * 4;
 997   2                      LCDDAT = 0;
 998   2      
 999   2                      LCDPTR = 28 - n * 4;
1000   2                      LCDDAT = ( COM0 + COM1 + COM3);
1001   2                      break;
1002   2              case 'r':
1003   2                      LCDPTR = 31 - n * 4;
1004   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1005   2      
1006   2                      LCDPTR = 30 - n * 4;
1007   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1008   2      
1009   2                      LCDPTR = 29 - n * 4;
1010   2                      LCDDAT = COM2;
1011   2      
1012   2                      LCDPTR = 28 - n * 4;
1013   2                      LCDDAT = COM1;
1014   2                      break;
1015   2              case 's':
1016   2                      break;
1017   2              case 't':
1018   2                      LCDPTR = 31 - n * 4;
1019   2                      LCDDAT |= ( COM0 + COM1 + COM2);
1020   2      
1021   2                      LCDPTR = 30 - n * 4;
1022   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1023   2      
1024   2                      LCDPTR = 29 - n * 4;
1025   2                      LCDDAT = COM3;
1026   2      
1027   2                      LCDPTR = 28 - n * 4;
1028   2                      LCDDAT = COM1;
1029   2                      break;
1030   2              case 'u':
1031   2                      LCDPTR = 31 - n * 4;
1032   2                      LCDDAT |= COM2;
1033   2                      LCDDAT &= ~(COM0 + COM1);
1034   2      
1035   2                      LCDPTR = 30 - n * 4;
1036   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1037   2      
1038   2                      LCDPTR = 29 - n * 4;
1039   2                      LCDDAT = COM3;
1040   2      
1041   2                      LCDPTR = 28 - n * 4;
1042   2                      LCDDAT = COM3;
1043   2                      break;
1044   2              case 'v':
1045   2                      LCDPTR = 31 - n * 4;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 18  

1046   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1047   2      
1048   2                      LCDPTR = 30 - n * 4;
1049   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1050   2      
1051   2                      LCDPTR = 29 - n * 4;
1052   2                      LCDDAT = 0;
1053   2      
1054   2                      LCDPTR = 28 - n * 4;
1055   2                      LCDDAT = ( COM2 + COM3);
1056   2                      break;
1057   2              case 'w':
1058   2                      LCDPTR = 31 - n * 4;
1059   2                      LCDDAT |= COM2;
1060   2                      LCDDAT &= ~(COM0 + COM1);
1061   2      
1062   2                      LCDPTR = 30 - n * 4;
1063   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1064   2      
1065   2                      LCDPTR = 29 - n * 4;
1066   2                      LCDDAT = ( COM2 + COM3);
1067   2      
1068   2                      LCDPTR = 28 - n * 4;
1069   2                      LCDDAT = COM3;
1070   2                      break;
1071   2              case 'x':
1072   2                      break;
1073   2              case 'y':
1074   2                      LCDPTR = 31 - n * 4;
1075   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1076   2      
1077   2                      LCDPTR = 30 - n * 4;
1078   2                      LCDDAT |= COM1;
1079   2                      LCDDAT &= ~(COM0 + COM2);
1080   2      
1081   2                      LCDPTR = 29 - n * 4;
1082   2                      LCDDAT = ( COM0 + COM2);
1083   2      
1084   2                      LCDPTR = 28 - n * 4;
1085   2                      LCDDAT = 0;
1086   2                      break;
1087   2              case 'z':
1088   2                      LCDPTR = 31 - n * 4;
1089   2                      LCDDAT &= ~( COM0 + COM1 + COM2);
1090   2      
1091   2                      LCDPTR = 30 - n * 4;
1092   2                      LCDDAT |= ( COM0 + COM2);
1093   2                      LCDDAT &= ~ COM1;
1094   2      
1095   2                      LCDPTR = 29 - n * 4;
1096   2                      LCDDAT = ( COM0 + COM3);
1097   2      
1098   2                      LCDPTR = 28 - n * 4;
1099   2                      LCDDAT = 0;
1100   2                      break;
1101   2      
1102   2              }
1103   1      }
1104          
1105          void LCD_ShowString(char *s) {
1106   1              uint8_t i = 0;
1107   1              uint8_t len = 0;
C51 COMPILER V9.56.0.0   BSP_DISPLAY                                                       11/01/2017 06:16:46 PAGE 19  

1108   1              BIT b = 0;
1109   1      
1110   1              if (s == 0) {
1111   2                      return;
1112   2              }
1113   1              len = strlen(s);
1114   1              if (len >= 8) {
1115   2                      for (i = 0; i < 8; i++) {
1116   3                              LCD_ShowChar(i, *(s + i));
1117   3                      }
1118   2              } else {
1119   2                      for (i = 0; i < 8; i++) {
1120   3                              if (b == 0) {
1121   4                                      if (*(s + i) != 0) {
1122   5                                              LCD_ShowChar(i, *(s + i));
1123   5                                      } else {
1124   5                                              b = 1;
1125   5                                              LCD_ShowChar(i, ' ');
1126   5                                      }
1127   4                              } else {
1128   4                                      LCD_ShowChar(i, ' ');
1129   4                              }
1130   3                      }
1131   2              }
1132   1      
1133   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2906    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
